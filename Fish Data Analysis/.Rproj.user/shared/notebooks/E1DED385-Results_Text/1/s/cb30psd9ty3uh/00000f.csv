"0",""
"0","fish_comp_data <- read.csv(""Data/Fish_Comp_Values_3D.csv"") %>%"
"0","                           mutate(Flow = ifelse(Flow == ""0"", ""Still Water"", ""Flowing Water (2 BL/s)"")) %>%"
"0","                           mutate(Ablation = ifelse(Ablation  == ""N"", ""No Ablation"", ""Ablated"")) %>%"
"0","                           mutate(Darkness = ifelse(Darkness == ""N"", ""Light"", ""Dark"")) %>%"
"0","                           mutate(Flow = factor(Flow), Ablation = factor(Ablation), Darkness = factor(Darkness)) %>%"
"0","                           mutate(Ablation = fct_relevel(Ablation, c(""No Ablation"",""Ablated""))) %>%"
"0","                           mutate(Ablation_Species = factor(paste(Ablation,Species,sep="", ""))) %>%"
"0","                           separate(Fish, c(""Fish1"", ""Fish2""),sep=""x"") %>% "
"0","                           mutate(Data_ID = paste(Year,Month,Day,Trial, sep = ""_""),"
"0","                                  Date = paste(Year,Month,Day,Trial, sep = ""_""),"
"0","                                  Fish_ID = paste(Year,Month,Day,Trial,Fish1, sep = ""_""),"
"0","                                  Comp_ID = paste(Year,Month,Day,Trial,Fish1,Fish2, sep = ""_""))"
"0","                           "
"0",""
"0","min_x <- floor(min(fish_comp_data$Fish1_X, na.rm = T)) + x_offset"
"0","max_x <- ceiling(max(fish_comp_data$Fish1_X, na.rm = T)) - x_offset"
"0","min_y <- floor(min(fish_comp_data$Fish1_Y, na.rm = T)) + y_offset"
"0","max_y <- ceiling(max(fish_comp_data$Fish1_Y, na.rm = T)) - y_offset"
"0",""
"0","print(paste(min_x,max_x,min_y,max_y))"
"1","[1]"
"1"," ""0.95 19.05 0.15 6.85"""
"1","
"
"0","min_dist <- 0"
"0","middle_dist <- 2.5"
"0","max_dist <- 100"
"0",""
"0","#Limit away from the edge"
"0","fish_comp_data <- fish_comp_data %>% filter(Fish1_X >= min_x & Fish1_X <= max_x) %>%"
"0","                                     filter(Fish1_Y >= min_y & Fish1_Y <= max_y)"
"0",""
"0","#close"
"0","fish_comp_data_ring_angles <- fish_comp_data %>% filter(Distance >= min_dist & Distance <= max_dist) %>%"
"0","                                                 mutate(Dist_Cat = ifelse(Distance <= middle_dist, ""Close"", ""Far""))"
"0",""
"0","fish_data_nn_normal <- fish_comp_data_ring_angles %>% group_by(Ablation_Species) %>%"
"0","                                        mutate(Fish1_Yaw_Heading_PS = Fish1_Yaw_Heading_PS - mean(Fish1_Yaw_Heading_PS, na.rm = T)) %>%"
"0","                                        ungroup() %>% "
"0","                                        filter(Flow == ""Still Water"")"
"0",""
"0",""
"0","nn_heading_sum <- fish_data_nn_normal %>% mutate(angle_bins = round_any(Angle,pi/6)) %>%"
"0","                                                group_by(angle_bins,Ablation,Species,Ablation_Species,Dist_Cat) %>%"
"0","                                                summarise(mean_turn = mean(Fish1_Yaw_Heading_PS, na.rm = T),"
"0","                                                          sd_turn = sd(Fish1_Yaw_Heading_PS, na.rm = T),"
"0","                                                          n = n()) %>%"
"0","                                                ungroup() "
"2","`summarise()` has grouped output by 'angle_bins', 'Ablation', 'Species', 'Ablation_Species'. You can override using the `.groups` argument."
